<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>더베스트 어학원 - 관리자 페이지</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="admin.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <!-- 로그인 폼 (기본적으로 보여줌) -->
    <div id="login-form" class="login-container">
        <div class="login-box">
            <div class="login-header">
                <i class="fas fa-crown"></i>
                <h2>더베스트 어학원</h2>
                <p>관리자 로그인</p>
            </div>
            <form id="admin-login">
                <div class="form-group">
                    <label for="admin-id">아이디</label>
                    <input type="text" id="admin-id" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="admin-pw">비밀번호</label>
                    <input type="password" id="admin-pw" class="form-control" required>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">
                    로그인
                </button>
                <div class="login-footer">
                    <p>기본 아이디: admin / 비밀번호: password123</p>
                    <a href="../index.html">메인 페이지로 돌아가기</a>
                </div>
            </form>
        </div>
    </div>

    <!-- 관리자 콘텐츠 (로그인 후 보여줌) -->
    <div class="admin-container" style="display: none;">
        <!-- 사이드바 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="admin-logo">
                    <i class="fas fa-crown"></i>
                    <h2>더베스트 어학원</h2>
                    <p>관리자 페이지</p>
                </div>
            </div>
            
            <nav class="admin-nav">
                <ul>
                    <li class="active">
                        <a href="#dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>대시보드</span>
                        </a>
                    </li>
                    <li>
                        <a href="#applications">
                            <i class="fas fa-list-alt"></i>
                            <span>수강신청 현황</span>
                            <span class="badge" id="pending-count">0</span>
                        </a>
                    </li>
                    <li>
                        <a href="#statistics">
                            <i class="fas fa-chart-bar"></i>
                            <span>통계</span>
                        </a>
                    </li>
                    <li>
                        <a href="#levels">
                            <i class="fas fa-layer-group"></i>
                            <span>레벨 관리</span>
                        </a>
                    </li>
                    <li>
                        <a href="#settings">
                            <i class="fas fa-cog"></i>
                            <span>설정</span>
                        </a>
                    </li>
                </ul>
                
                <div class="sidebar-footer">
                    <a href="../index.html" class="back-to-site">
                        <i class="fas fa-external-link-alt"></i>
                        <span>메인 사이트로</span>
                    </a>
                    <button id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>로그아웃</span>
                    </button>
                </div>
            </nav>
        </aside>
        
        <!-- 메인 컨텐츠 -->
        <main class="main-content">
            <!-- 헤더 -->
            <header class="admin-header">
                <div class="header-left">
                    <h1 id="page-title">대시보드</h1>
                    <p id="page-subtitle">수강신청 현황을 관리하세요</p>
                </div>
                <div class="header-right">
                    <div class="admin-info">
                        <div class="admin-avatar">
                            <i class="fas fa-user-shield"></i>
                        </div>
                        <div class="admin-details">
                            <p class="admin-name">관리자</p>
                            <p class="admin-role">시스템 관리자</p>
                        </div>
                    </div>
                    <div class="date-time">
                        <p id="current-date">날짜 로딩중...</p>
                        <p id="current-time">시간 로딩중...</p>
                    </div>
                </div>
            </header>
            
            <!-- 대시보드 -->
            <section id="dashboard" class="page-section active">
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon total">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>총 수강생</h3>
                            <p class="stat-number" id="total-applicants">0</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon pending">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>대기 중</h3>
                            <p class="stat-number" id="pending-applicants">0</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon confirmed">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>확정</h3>
                            <p class="stat-number" id="confirmed-applicants">0</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon canceled">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>취소</h3>
                            <p class="stat-number" id="canceled-applicants">0</p>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-charts">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>레벨별 신청 현황</h3>
                        </div>
                        <canvas id="levelChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>일별 신청 추이</h3>
                        </div>
                        <canvas id="dailyChart"></canvas>
                    </div>
                </div>
                
                <div class="recent-applications">
                    <div class="section-header">
                        <h3>최근 신청내역</h3>
                        <a href="#applications" class="view-all">전체보기</a>
                    </div>
                    <div class="table-container">
                        <table id="recent-applications-table">
                            <thead>
                                <tr>
                                    <th>번호</th>
                                    <th>이름</th>
                                    <th>레벨</th>
                                    <th>시간대</th>
                                    <th>신청일</th>
                                    <th>상태</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- 동적으로 채워짐 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- 수강신청 현황 -->
            <section id="applications" class="page-section">
                <div class="section-header">
                    <h2>수강신청 현황</h2>
                    <div class="header-actions">
                        <div class="filter-controls">
                            <select id="filter-status">
                                <option value="all">전체 상태</option>
                                <option value="pending">대기 중</option>
                                <option value="confirmed">확정</option>
                                <option value="canceled">취소</option>
                            </select>
                            <select id="filter-level">
                                <option value="all">전체 레벨</option>
                                <option value="beginner">초급 과정</option>
                                <option value="intermediate">중급 과정</option>
                                <option value="advanced">고급 과정</option>
                            </select>
                            <input type="text" id="search-name" placeholder="이름 검색">
                            <button id="search-btn" class="btn-primary">
                                <i class="fas fa-search"></i> 검색
                            </button>
                        </div>
                        <button id="export-btn" class="btn-secondary">
                            <i class="fas fa-file-export"></i> 내보내기
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="applications-table">
                        <thead>
                            <tr>
                                <th>
                                    <input type="checkbox" id="select-all">
                                </th>
                                <th>번호</th>
                                <th>이름</th>
                                <th>생년월일</th>
                                <th>연락처</th>
                                <th>이메일</th>
                                <th>레벨</th>
                                <th>시간대</th>
                                <th>신청일</th>
                                <th>상태</th>
                                <th>관리</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 동적으로 채워짐 -->
                        </tbody>
                    </table>
                </div>
                
                <div class="table-footer">
                    <div class="pagination">
                        <button id="prev-page" class="pagination-btn">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div class="page-numbers">
                            <!-- 동적으로 채워짐 -->
                        </div>
                        <button id="next-page" class="pagination-btn">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="batch-actions">
                        <select id="batch-action">
                            <option value="">일괄 처리</option>
                            <option value="confirm">확정 처리</option>
                            <option value="cancel">취소 처리</option>
                            <option value="delete">삭제</option>
                        </select>
                        <button id="apply-batch" class="btn-primary">적용</button>
                    </div>
                </div>
            </section>
            
            <!-- 통계 -->
            <section id="statistics" class="page-section">
                <div class="section-header">
                    <h2>통계 분석</h2>
                    <div class="header-actions">
                        <select id="stat-period">
                            <option value="week">최근 1주</option>
                            <option value="month" selected>최근 1개월</option>
                            <option value="quarter">최근 3개월</option>
                            <option value="year">최근 1년</option>
                        </select>
                    </div>
                </div>
                
                <div class="stats-overview">
                    <div class="stat-big-card">
                        <h3>전체 신청 추이</h3>
                        <canvas id="overviewChart"></canvas>
                    </div>
                    
                    <div class="stat-side-cards">
                        <div class="stat-small-card">
                            <h4>레벨 분포</h4>
                            <canvas id="levelDistributionChart"></canvas>
                        </div>
                        
                        <div class="stat-small-card">
                            <h4>시간대 선호도</h4>
                            <canvas id="timePreferenceChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="detailed-stats">
                    <div class="stat-table-card">
                        <h3>레벨별 상세 통계</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>레벨</th>
                                    <th>신청자</th>
                                    <th>확정율</th>
                                    <th>평균 연령</th>
                                    <th>성별 비율</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- 동적으로 채워짐 -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="stat-table-card">
                        <h3>시간대별 신청 현황</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>시간대</th>
                                    <th>신청자</th>
                                    <th>확정자</th>
                                    <th>확정율</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- 동적으로 채워짐 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- 레벨 관리 -->
            <section id="levels" class="page-section">
                <div class="section-header">
                    <h2>레벨 관리</h2>
                    <button id="add-level-btn" class="btn-primary">
                        <i class="fas fa-plus"></i> 새 레벨 추가
                    </button>
                </div>
                
                <div class="levels-list">
                    <!-- 레벨 카드 목록 -->
                </div>
            </section>
            
            <!-- 설정 -->
            <section id="settings" class="page-section">
                <div class="section-header">
                    <h2>시스템 설정</h2>
                </div>
                
                <div class="settings-container">
                    <div class="settings-tabs">
                        <button class="tab-btn active" data-tab="general">일반 설정</button>
                        <button class="tab-btn" data-tab="notifications">알림 설정</button>
                        <button class="tab-btn" data-tab="backup">데이터 관리</button>
                    </div>
                    
                    <div class="settings-content">
                        <div id="general" class="tab-content active">
                            <h3>일반 설정</h3>
                            <form id="general-settings">
                                <div class="form-group">
                                    <label>사이트 이름</label>
                                    <input type="text" value="더베스트 어학원">
                                </div>
                                <div class="form-group">
                                    <label>관리자 이메일</label>
                                    <input type="email" value="admin@thebestacademy.co.kr">
                                </div>
                                <div class="form-group">
                                    <label>페이지당 표시 수</label>
                                    <input type="number" value="10" min="5" max="50">
                                </div>
                                <button type="submit" class="btn-primary">저장</button>
                            </form>
                        </div>
                        
                        <div id="notifications" class="tab-content">
                            <h3>알림 설정</h3>
                            <form id="notification-settings">
                                <div class="form-group checkbox-group">
                                    <input type="checkbox" id="email-notifications" checked>
                                    <label for="email-notifications">새 수강신청 시 이메일 알림 받기</label>
                                </div>
                                <div class="form-group checkbox-group">
                                    <input type="checkbox" id="daily-summary" checked>
                                    <label for="daily-summary">일일 요약 리포트 받기</label>
                                </div>
                                <button type="submit" class="btn-primary">저장</button>
                            </form>
                        </div>
                        
                        <div id="backup" class="tab-content">
                            <h3>데이터 관리</h3>
                            <div class="backup-options">
                                <button id="export-data" class="btn-primary">
                                    <i class="fas fa-download"></i> 전체 데이터 내보내기
                                </button>
                                <button id="backup-now" class="btn-secondary">
                                    <i class="fas fa-save"></i> 지금 백업하기
                                </button>
                                <div class="form-group">
                                    <label>데이터 가져오기</label>
                                    <input type="file" id="import-data">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 상세보기 모달 -->
    <div id="detail-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>수강신청 상세정보</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- 동적으로 채워짐 -->
            </div>
            <div class="modal-footer">
                <button class="btn-secondary close-modal">닫기</button>
                <button id="confirm-application" class="btn-primary">확정 처리</button>
                <button id="cancel-application" class="btn-danger">취소 처리</button>
            </div>
        </div>
    </div>

    <!-- 레벨 추가/편집 모달 -->
    <div id="level-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="level-modal-title">새 레벨 추가</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="level-form">
                <div class="modal-body">
                    <div class="form-group">
                        <label>레벨 이름</label>
                        <input type="text" id="level-name" required>
                    </div>
                    <div class="form-group">
                        <label>레벨 코드</label>
                        <input type="text" id="level-code" required>
                    </div>
                    <div class="form-group">
                        <label>레벨 설명</label>
                        <textarea id="level-description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>정원</label>
                        <input type="number" id="level-capacity" min="1" value="15">
                    </div>
                    <div class="form-group">
                        <label>수강료</label>
                        <input type="number" id="level-price" min="0">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary close-modal">취소</button>
                    <button type="submit" class="btn-primary">저장</button>
                </div>
            </form>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
